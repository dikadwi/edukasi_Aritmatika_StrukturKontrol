<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kalkulator & Struktur Kontrol</title>
  <meta name="description" content="Aritmatika & Struktur Kontrol (if/elif/else, for, while, try/except)."/>
  <style>
    :root {
      --bg: #0f172a;
      --bg-secondary: #1e293b;
      --card: #334155;
      --card-hover: #475569;
      --muted: #94a3b8;
      --text: #f8fafc;
      --accent: #06b6d4;
      --accent-2: #10b981;
      --accent-3: #f59e0b;
      --danger: #ef4444;
      --warn: #f59e0b;
      --success: #22c55e;
      --ring: rgba(6, 182, 212, 0.4);
      --glow: rgba(6, 182, 212, 0.3);
      --border-subtle: rgba(148, 163, 184, 0.2);
      --border-strong: rgba(148, 163, 184, 0.4);
      
      /* Casual modern colors */
      --purple-casual: #a855f7;
      --blue-casual: #3b82f6;
      --green-casual: #10b981;
      --orange-casual: #f97316;
      --pink-casual: #ec4899;
      
      /* Animation variables */
      --duration-fast: 150ms;
      --duration-normal: 250ms;
      --duration-slow: 400ms;
      --ease: cubic-bezier(0.4, 0, 0.2, 1);
      --ease-out: cubic-bezier(0, 0, 0.2, 1);
      --ease-in: cubic-bezier(0.4, 0, 1, 1);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font: 16px/1.6 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--text);
      background: 
        radial-gradient(circle at 20% 80%, rgba(6, 182, 212, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(168, 85, 247, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(34, 197, 94, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, var(--bg) 0%, var(--bg-secondary) 100%);
      min-height: 100dvh;
      overflow-x: hidden;
    }

    .container {
      max-width: 1200px;
      margin-inline: auto;
      padding: clamp(16px, 4vw, 24px);
    }

    header {
      display: flex;
      gap: 16px;
      align-items: center;
      margin-bottom: 24px;
      animation: slideInFromTop var(--duration-slow) var(--ease-out);
    }

    .logo {
      width: 48px;
      height: 48px;
      border-radius: 20px;
      background: linear-gradient(135deg, var(--accent), var(--purple-casual), var(--green-casual));
      box-shadow: 0 8px 32px rgba(6, 182, 212, 0.4);
      border: 2px solid rgba(248, 250, 252, 0.2);
      transition: transform var(--duration-normal) var(--ease);
      cursor: pointer;
    }

    .logo:hover {
      transform: scale(1.05) rotate(5deg);
      box-shadow: 0 12px 40px rgba(6, 182, 212, 0.6);
    }

    .title h1 {
      margin: 0;
      font-size: clamp(20px, 5vw, 24px);
      font-weight: 700;
      letter-spacing: 0.3px;
      background: linear-gradient(135deg, var(--text), var(--muted));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .title p {
      margin: 4px 0 0 0;
      color: var(--muted);
      font-size: 14px;
    }

    nav {
      margin-top: 24px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      background: rgba(51, 65, 85, 0.8);
      backdrop-filter: blur(12px);
      padding: 8px;
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      animation: slideInFromBottom var(--duration-slow) var(--ease-out) 0.1s both;
    }

    .tab-btn {
      appearance: none;
      border: 0;
      padding: 12px 16px;
      border-radius: 12px;
      color: var(--text);
      background: transparent;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.2px;
      transition: all var(--duration-normal) var(--ease);
      position: relative;
      overflow: hidden;
    }

    .tab-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(6, 182, 212, 0.05));
      opacity: 0;
      transition: opacity var(--duration-normal) var(--ease);
    }

    .tab-btn:hover::before {
      opacity: 0.7;
    }

    .tab-btn[aria-selected="true"] {
      background: linear-gradient(135deg, rgba(6, 182, 212, 0.3), rgba(6, 182, 212, 0.15));
      border: 1px solid rgba(6, 182, 212, 0.6);
      box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2) inset, 0 4px 12px rgba(6, 182, 212, 0.4);
      transform: translateY(-1px);
      color: #ffffff;
    }

    .grid {
      display: grid;
      gap: 20px;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      animation: fadeInUp var(--duration-slow) var(--ease-out) 0.2s both;
    }

    @media (min-width: 768px) {
      .grid {
        grid-template-columns: repeat(12, 1fr);
      }
      .card.span6 {
        grid-column: span 6;
      }
      .card.span12 {
        grid-column: span 12;
      }
    }

    .card {
      grid-column: span 12;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
      backdrop-filter: blur(16px);
      border: 1px solid rgba(148, 163, 184, 0.3);
      border-radius: 24px;
      padding: 28px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      transition: all var(--duration-normal) var(--ease);
      position: relative;
      overflow: hidden;
      color: #1e293b;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(148, 163, 184, 0.6), transparent);
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.15);
      border-color: rgba(148, 163, 184, 0.5);
      background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 0.95));
    }

    .card h2 {
      margin: 0 0 16px 0;
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
    }
    .muted {
      color: #64748b;
      font-size: 14px;
      margin-top: -4px;
      margin-bottom: 16px;
    }

    .row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: end;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-width: 180px;
      flex: 1;
    }

    label {
      font-size: 14px;
      font-weight: 500;
      color: #64748b;
      transition: color var(--duration-fast) var(--ease);
    }

    input, select, button, textarea {
      font: inherit;
      color: #1e293b;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 12px 16px;
      border-radius: 16px;
      outline: none;
      transition: all var(--duration-normal) var(--ease);
      position: relative;
    }

    input:focus, select:focus, textarea:focus {
      box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
      border-color: rgba(6, 182, 212, 0.8);
      transform: translateY(-1px);
      background: rgba(255, 255, 255, 1);
    }

    input:focus + label, select:focus + label, textarea:focus + label {
      color: var(--accent);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--blue-casual));
      border-color: var(--accent);
      cursor: pointer;
      font-weight: 600;
      position: relative;
      overflow: hidden;
      color: #ffffff;
      border-radius: 16px;
    }

    .btn-primary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), transparent);
      opacity: 0;
      transition: opacity var(--duration-normal) var(--ease);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(6, 182, 212, 0.5);
      background: linear-gradient(135deg, var(--blue-casual), var(--accent));
    }

    .btn-primary:hover::before {
      opacity: 1;
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-secondary {
      background: linear-gradient(135deg, var(--card), var(--bg-secondary));
      border-color: var(--border-strong);
      cursor: pointer;
      font-weight: 600;
      color: var(--text);
      border-radius: 16px;
    }

    .btn-secondary:hover {
      background: linear-gradient(135deg, var(--card-hover), var(--card));
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(51, 65, 85, 0.4);
    }

    .btn-success {
      background: linear-gradient(135deg, var(--green-casual), var(--accent-2));
      border-color: var(--green-casual);
      color: #ffffff;
      font-weight: 700;
      cursor: pointer;
      border-radius: 16px;
    }

    .btn-success:hover {
      background: linear-gradient(135deg, var(--accent-2), #059669);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.5);
    }

    .btn-danger {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      border-color: #ef4444;
      font-weight: 600;
      cursor: pointer;
    }

    .btn-danger:hover {
      background: linear-gradient(135deg, #dc2626, #b91c1c);
      transform: translateY(-1px);
    }

    .stack {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .eq {
      font-family: ui-monospace, 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace;
      background: linear-gradient(135deg, #f8fafc, #e2e8f0);
      backdrop-filter: blur(8px);
      padding: 16px;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      transition: all var(--duration-normal) var(--ease);
      position: relative;
      color: #1e293b;
    }

    .eq.success {
      border-color: rgba(16, 185, 129, 0.6);
      background: linear-gradient(135deg, #f0fdf4, #dcfce7);
      color: #166534;
    }

    .eq.error {
      border-color: rgba(248, 113, 113, 0.6);
      background: linear-gradient(135deg, #fef2f2, #fee2e2);
      color: #991b1b;
    }

    .eq.warning {
      border-color: rgba(251, 191, 36, 0.6);
      background: linear-gradient(135deg, #fffbeb, #fef3c7);
      color: #92400e;
    }

    .console {
      min-height: 120px;
      white-space: pre-wrap;
      font-size: 14px;
      line-height: 1.5;
      background: linear-gradient(135deg, #f8fafc, #e2e8f0) !important;
      color: #1e293b !important;
      border: 1px solid rgba(148, 163, 184, 0.3) !important;
    }

    .hr {
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border-strong), transparent);
      margin: 20px 0;
      border: none;
    }

    footer {
      margin-top: 40px;
      padding-top: 24px;
      border-top: 1px solid var(--border-subtle);
      color: var(--muted);
      font-size: 14px;
      text-align: center;
    }

    .pill {
      font-size: 12px;
      color: #ffffff;
      background: linear-gradient(135deg, #10b981, #059669);
      border: 1px solid rgba(255, 255, 255, 0.3);
      padding: 4px 12px;
      border-radius: 999px;
      font-weight: 700;
      display: inline-block;
    }

    /* Animations */
    @keyframes slideInFromTop {
      0% {
        opacity: 0;
        transform: translateY(-20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInFromBottom {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .loading {
      animation: pulse 2s infinite;
    }

    /* Enhanced responsive design */
    @media (max-width: 480px) {
      .container {
        padding: 16px;
      }
      
      .row {
        flex-direction: column;
        gap: 16px;
      }
      
      .field {
        min-width: unset;
      }
      
      nav {
        flex-direction: column;
        gap: 4px;
      }
      
      .tab-btn {
        text-align: center;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Dark mode enhancements */
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f8fafc;
        --card: #ffffff;
        --muted: #64748b;
        --text: #1e293b;
        --border-subtle: rgba(0, 0, 0, 0.15);
        --border-strong: rgba(0, 0, 0, 0.25);
      }
      
      body {
        background: 
          radial-gradient(1200px 600px at 10% -10%, #e2e8f0 15%, transparent 50%),
          radial-gradient(1000px 600px at 110% 10%, #cbd5e1 15%, transparent 50%),
          linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 50%, #f1f5f9 100%),
          var(--bg);
      }
      
      .card {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
        border: 1px solid rgba(0, 0, 0, 0.1);
      }
      
      input, select, button, textarea {
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(0, 0, 0, 0.2);
        color: var(--text);
      }
      
      .eq {
        background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
        border: 1px solid rgba(100, 116, 139, 0.3);
        color: #1e293b;
      }
      
      .grade-bar {
        background: rgba(255, 255, 255, 0.8);
        border: 1px solid rgba(0, 0, 0, 0.2);
      }
      
      .grade-label {
        color: #1e293b;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
      }
    }

    /* Grade visualization styles */
    .grade-bars {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .grade-bar {
      position: relative;
      height: 24px;
      background: rgba(10, 14, 26, 0.8);
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .grade-label {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      font-weight: 600;
      z-index: 2;
      color: #ffffff;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    .grade-fill {
      height: 100%;
      transition: width var(--duration-slow) var(--ease-out);
      border-radius: 12px;
    }

    .grade-bar.active .grade-fill {
      animation: pulse 2s infinite;
    }

    /* Enhanced form styles */
    .calculator-form {
      position: relative;
    }

    .btn-text {
      position: relative;
      z-index: 2;
    }

    .loading .btn-text::after {
      content: '...';
      animation: pulse 1s infinite;
    }

    /* Enhanced console styles */
    .console {
      position: relative;
    }

    .console::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 12px;
      width: 8px;
      height: 8px;
      background: #10b981;
      border-radius: 50%;
      box-shadow: 
        16px 0 0 #fbbf24,
        32px 0 0 #f87171;
    }

    /* Countdown timer styles */
    .countdown-display {
      font-size: 24px;
      font-weight: 700;
      text-align: center;
      padding: 16px;
      background: linear-gradient(135deg, #f1f5f9, #e2e8f0) !important;
      border-radius: 12px;
      margin: 12px 0;
      border: 1px solid rgba(148, 163, 184, 0.3) !important;
      color: #1e293b !important;
    }

    .countdown-display.counting {
      animation: pulse 1s infinite;
      border-color: rgba(6, 182, 212, 0.5) !important;
    }

    /* Enhanced responsive design for new elements */
    @media (max-width: 640px) {
      .grade-bars {
        font-size: 11px;
      }
      
      .grade-label {
        font-size: 10px;
        left: 8px;
      }
    }

    /* Introduction page styles */
    .intro-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9)) !important;
      border: 1px solid rgba(6, 182, 212, 0.2) !important;
      position: relative;
      overflow: hidden;
    }

    .intro-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--purple-casual), var(--accent), var(--green-casual), var(--orange-casual));
    }

    .feature-card {
      transition: all var(--duration-normal) var(--ease);
    }

    .feature-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .feature-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 60px;
      height: 60px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      margin: 0 auto 12px auto;
    }

    .tech-item {
      transition: all var(--duration-normal) var(--ease);
    }

    .tech-item:hover {
      transform: translateY(-2px);
    }

    .shortcut-item {
      transition: all var(--duration-fast) var(--ease);
    }

    .shortcut-item:hover {
      background: rgba(255, 255, 255, 0.1) !important;
    }

    kbd {
      font-family: ui-monospace, 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace;
      font-size: 11px;
      font-weight: 600;
    }

    .cta-section button {
      transition: all var(--duration-normal) var(--ease);
    }

    .cta-section button:hover {
      transform: translateY(-2px);
    }

    /* Enhanced responsive for intro page */
    @media (max-width: 768px) {
      .intro-grid {
        grid-template-columns: 1fr !important;
      }
      
      .tech-overview > div {
        grid-template-columns: 1fr !important;
      }
      
      .shortcuts-section > div {
        grid-template-columns: 1fr !important;
      }
      
      .cta-section > div {
        flex-direction: column !important;
      }
    }

    /* Modern operator item hover effects */
    .operator-item:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .concept-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
    }

    /* Tab management styles */
    [role="tabpanel"]:not([aria-selected="true"]) {
      display: none !important;
    }

    [role="tabpanel"][aria-selected="true"] {
      display: grid !important;
    }

  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo" aria-hidden="true"></div>
      <div class="title">
        <h1>Kalkulator & Struktur Kontrol</h1>
        <p>Operasi Aritmatika + Percabangan • Perulangan • Try/Catch — siap untuk GitHub Pages</p>
      </div>
    </header>

    <nav role="tablist" aria-label="Fitur">
      <button class="tab-btn" role="tab" aria-selected="true" data-tab="intro">📖 Materi</button>
      <button class="tab-btn" role="tab" aria-selected="false" data-tab="arit">🧮 Aritmatika</button>
      <button class="tab-btn" role="tab" aria-selected="false" data-tab="ctrl">🧩 Struktur Kontrol</button>
    </nav>

    <!-- TAB: Materi/Penjelasan -->
    <section id="tab-intro" class="grid" role="tabpanel" aria-selected="true" aria-labelledby="Materi">
      <div class="card span12 intro-card">
        <h2>📚 Apa itu Aritmatika & Struktur Kontrol?</h2>
        <!-- Konsep Aritmatika -->
        <div class="material-section" style="margin-top: 24px;">
          <h3 style="color: var(--purple-casual); display: flex; align-items: center; gap: 8px; font-size: 22px;">
            🧮 <span>Operasi Aritmatika dalam Pemrograman</span>
          </h3>
          
          <div class="concept-card" style="padding: 24px; background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(168, 85, 247, 0.05)); border-left: 4px solid var(--purple-casual); margin: 16px 0; border-radius: 16px; border: 1px solid rgba(168, 85, 247, 0.3);">
            <h4 style="margin: 0 0 16px 0; color: var(--text); font-size: 18px;">🤔 Apa itu Operasi Aritmatika?</h4>
            <p style="color: var(--muted); margin: 0 0 20px 0; font-size: 15px; line-height: 1.6;">
              Operasi aritmatika adalah operasi matematika dasar yang digunakan dalam pemrograman untuk melakukan perhitungan. 
              Setiap bahasa pemrograman memiliki operator untuk operasi ini.
            </p>
            
            <div style="display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));">
              <div class="operator-item" style="padding: 16px; background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05)); border-radius: 12px; border: 1px solid rgba(34, 197, 94, 0.4); transition: all 0.3s ease; cursor: pointer;">
                <strong style="color: var(--green-casual); font-size: 16px;">✨ Penjumlahan (+)</strong>
                <p style="margin: 8px 0 4px 0; font-size: 13px; color: var(--muted);">Menambahkan dua nilai</p>
                <code style="font-size: 14px; color: var(--accent-1); background: rgba(0,0,0,0.3); padding: 6px 10px; border-radius: 8px; display: inline-block;">5 + 3 = 8</code>
              </div>
              <div class="operator-item" style="padding: 16px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05)); border-radius: 12px; border: 1px solid rgba(59, 130, 246, 0.4); transition: all 0.3s ease; cursor: pointer;">
                <strong style="color: var(--blue-casual); font-size: 16px;">➖ Pengurangan (-)</strong>
                <p style="margin: 8px 0 4px 0; font-size: 13px; color: var(--muted);">Mengurangi satu nilai dengan nilai lain</p>
                <code style="font-size: 14px; color: var(--accent-1); background: rgba(0,0,0,0.3); padding: 6px 10px; border-radius: 8px; display: inline-block;">10 - 4 = 6</code>
              </div>
              <div class="operator-item" style="padding: 16px; background: linear-gradient(135deg, rgba(6, 182, 212, 0.15), rgba(6, 182, 212, 0.05)); border-radius: 12px; border: 1px solid rgba(6, 182, 212, 0.4); transition: all 0.3s ease; cursor: pointer;">
                <strong style="color: var(--accent); font-size: 16px;">✖️ Perkalian (*)</strong>
                <p style="margin: 8px 0 4px 0; font-size: 13px; color: var(--muted);">Mengalikan dua nilai</p>
                <code style="font-size: 14px; color: var(--accent-1); background: rgba(0,0,0,0.3); padding: 6px 10px; border-radius: 8px; display: inline-block;">7 × 6 = 42</code>
              </div>
              <div class="operator-item" style="padding: 16px; background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(249, 115, 22, 0.05)); border-radius: 12px; border: 1px solid rgba(249, 115, 22, 0.4); transition: all 0.3s ease; cursor: pointer;">
                <strong style="color: var(--orange-casual); font-size: 16px;">➗ Pembagian (/)</strong>
                <p style="margin: 8px 0 4px 0; font-size: 13px; color: var(--muted);">Membagi satu nilai dengan nilai lain</p>
                <code style="font-size: 14px; color: var(--accent-1); background: rgba(0,0,0,0.3); padding: 6px 10px; border-radius: 8px; display: inline-block;">15 ÷ 3 = 5</code>
              </div>
            </div>
          </div>
        </div>

        <div class="hr"></div>

        <!-- Konsep Struktur Kontrol -->
        <div class="material-section" style="margin-top: 24px;">
          <h3 style="color: var(--green-casual); display: flex; align-items: center; gap: 8px; font-size: 22px;">
            🧩 <span>Struktur Kontrol dalam Pemrograman</span>
          </h3>
          
          <!-- Percabangan -->
          <div class="concept-card" style="padding: 24px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.05)); border-left: 4px solid var(--green-casual); margin: 16px 0; border-radius: 16px; border: 1px solid rgba(16, 185, 129, 0.3);">
            <h4 style="margin: 0 0 16px 0; color: var(--text); font-size: 18px;">🔀 Percabangan (Conditional Statements)</h4>
            <p style="color: var(--muted); margin: 0 0 20px 0; font-size: 15px; line-height: 1.6;">
              Percabangan memungkinkan program untuk membuat keputusan berdasarkan kondisi tertentu. 
              Program akan menjalankan blok kode yang berbeda tergantung pada kondisi yang dipenuhi.
            </p>
            
            <div class="code-example" style="background: linear-gradient(135deg, rgba(48, 65, 104, 0.9), rgba(32, 42, 59, 0.8)); padding: 20px; border-radius: 12px; margin: 16px 0; border: 1px solid var(--border-subtle);">
              <pre style="margin: 0; color: var(--text); font-size: 14px; line-height: 1.5;"><code><span style="color: var(--purple-casual);">if</span> (<span style="color: var(--accent);">nilai</span> >= <span style="color: var(--orange-casual);">90</span>) {
    <span style="color: var(--accent);">grade</span> = <span style="color: var(--green-casual);">"A - Sangat Baik"</span>;
} <span style="color: var(--purple-casual);">else if</span> (<span style="color: var(--accent);">nilai</span> >= <span style="color: var(--orange-casual);">75</span>) {
    <span style="color: var(--accent);">grade</span> = <span style="color: var(--blue-casual);">"B - Baik"</span>;
} <span style="color: var(--purple-casual);">else if</span> (<span style="color: var(--accent);">nilai</span> >= <span style="color: var(--orange-casual);">60</span>) {
    <span style="color: var(--accent);">grade</span> = <span style="color: var(--warn);">"C - Cukup"</span>;
} <span style="color: var(--purple-casual);">else</span> {
    <span style="color: var(--accent);">grade</span> = <span style="color: var(--danger);">"D - Kurang"</span>;
}</code></pre>
            </div>
            
            <p style="color: var(--muted); font-size: 14px; margin: 12px 0 0 0; padding: 12px; background: rgba(6, 182, 212, 0.1); border-radius: 8px; border-left: 3px solid var(--accent);">
              <strong style="color: var(--accent);">💡 Contoh Penggunaan:</strong> Sistem grading, validasi input, pengambilan keputusan otomatis.
            </p>
          </div>

          <!-- Perulangan -->
          <div class="concept-card" style="padding: 24px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05)); border-left: 4px solid var(--blue-casual); margin: 16px 0; border-radius: 16px; border: 1px solid rgba(59, 130, 246, 0.3);">
            <h4 style="margin: 0 0 16px 0; color: var(--text); font-size: 18px;">🔁 Perulangan (Loops)</h4>
            <p style="color: var(--muted); margin: 0 0 20px 0; font-size: 15px; line-height: 1.6;">
              Perulangan memungkinkan program untuk menjalankan blok kode berulang kali sampai kondisi tertentu terpenuhi.
            </p>
            
            <div style="display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));">
              <div style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05)); padding: 16px; border-radius: 12px; border: 1px solid rgba(245, 158, 11, 0.3);">
                <h5 style="margin: 0 0 12px 0; color: var(--warn); font-size: 16px;">🔢 For Loop</h5>
                <div class="code-example" style="background: linear-gradient(135deg, rgba(47, 65, 107, 0.9), rgba(30, 41, 59, 0.8)); padding: 16px; border-radius: 8px; border: 1px solid var(--border-subtle);">
                  <pre style="margin: 0; color: var(--text); font-size: 13px; line-height: 1.4;"><code><span style="color: var(--purple-casual);">for</span> (<span style="color: var(--purple-casual);">let</span> <span style="color: var(--accent);">i</span> = <span style="color: var(--orange-casual);">1</span>; <span style="color: var(--accent);">i</span> <= <span style="color: var(--orange-casual);">10</span>; <span style="color: var(--accent);">i</span>++) {
    <span style="color: var(--muted);">console</span>.<span style="color: var(--green-casual);">log</span>(<span style="color: var(--accent);">base</span> + <span style="color: var(--blue-casual);">" x "</span> + <span style="color: var(--accent);">i</span> + <span style="color: var(--blue-casual);">" = "</span> + (<span style="color: var(--accent);">base</span> * <span style="color: var(--accent);">i</span>));
}</code></pre>
                </div>
                <p style="color: var(--muted); font-size: 12px; margin: 12px 0 0 0; padding: 8px; background: rgba(245, 158, 11, 0.1); border-radius: 6px;">
                  ✨ Digunakan ketika jumlah iterasi sudah diketahui.
                </p>
              </div>
              
              <div style="background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(6, 182, 212, 0.05)); padding: 16px; border-radius: 12px; border: 1px solid rgba(6, 182, 212, 0.3);">
                <h5 style="margin: 0 0 12px 0; color: var(--accent); font-size: 16px;">⏳ While Loop</h5>
                <div class="code-example" style="background: linear-gradient(135deg, rgba(44, 63, 108, 0.9), rgba(30, 41, 59, 0.8)); padding: 16px; border-radius: 8px; border: 1px solid var(--border-subtle);">
                  <pre style="margin: 0; color: var(--text); font-size: 13px; line-height: 1.4;"><code><span style="color: var(--purple-casual);">while</span> (<span style="color: var(--accent);">input</span> <= <span style="color: var(--orange-casual);">0</span>) {
    <span style="color: var(--accent);">input</span> = <span style="color: var(--green-casual);">prompt</span>(<span style="color: var(--blue-casual);">"Masukkan angka positif:"</span>);
    <span style="color: var(--accent);">attempts</span>++;
}</code></pre>
                </div>
                <p style="color: var(--muted); font-size: 12px; margin: 12px 0 0 0; padding: 8px; background: rgba(6, 182, 212, 0.1); border-radius: 6px;">
                  🔄 Digunakan ketika kondisi belum pasti kapan berhenti.
                </p>
              </div>
            </div>
          </div>

          <!-- Error Handling -->
          <div class="concept-card" style="padding: 24px; background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(249, 115, 22, 0.05)); border-left: 4px solid var(--orange-casual); margin: 16px 0; border-radius: 16px; border: 1px solid rgba(249, 115, 22, 0.3);">
            <h4 style="margin: 0 0 16px 0; color: var(--text); font-size: 18px;">🛡️ Penanganan Kesalahan (Error Handling)</h4>
            <p style="color: var(--muted); margin: 0 0 20px 0; font-size: 15px; line-height: 1.6;">
              Error handling memungkinkan program untuk menangani kesalahan dengan graceful tanpa crash.
            </p>
            
            <div class="code-example" style="background: linear-gradient(135deg, rgba(50, 70, 117, 0.9), rgba(30, 41, 59, 0.8)); padding: 20px; border-radius: 12px; margin: 16px 0; border: 1px solid var(--border-subtle);">
              <pre style="margin: 0; color: var(--text); font-size: 14px; line-height: 1.5;"><code><span style="color: var(--purple-casual);">try</span> {
    <span style="color: var(--purple-casual);">let</span> <span style="color: var(--accent);">result</span> = <span style="color: var(--accent);">a</span> / <span style="color: var(--accent);">b</span>;
    <span style="color: var(--purple-casual);">if</span> (<span style="color: var(--accent);">b</span> === <span style="color: var(--orange-casual);">0</span>) <span style="color: var(--purple-casual);">throw new</span> <span style="color: var(--green-casual);">Error</span>(<span style="color: var(--blue-casual);">"Tidak bisa membagi dengan nol"</span>);
    <span style="color: var(--muted);">console</span>.<span style="color: var(--green-casual);">log</span>(<span style="color: var(--blue-casual);">"Hasil:"</span>, <span style="color: var(--accent);">result</span>);
} <span style="color: var(--purple-casual);">catch</span> (<span style="color: var(--accent);">error</span>) {
    <span style="color: var(--muted);">console</span>.<span style="color: var(--danger);">error</span>(<span style="color: var(--blue-casual);">"Terjadi kesalahan:"</span>, <span style="color: var(--accent);">error</span>.<span style="color: var(--green-casual);">message</span>);
} <span style="color: var(--purple-casual);">finally</span> {
    <span style="color: var(--muted);">console</span>.<span style="color: var(--green-casual);">log</span>(<span style="color: var(--blue-casual);">"Operasi selesai, bersihkan resource"</span>);
}</code></pre>
            </div>
            
            <div style="display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); margin-top: 16px;">
              <div style="padding: 12px; background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05)); border-radius: 8px; border: 1px solid rgba(34, 197, 94, 0.3);">
                <strong style="color: var(--green-casual); font-size: 14px;">🎯 TRY</strong>
                <p style="margin: 4px 0 0 0; font-size: 11px; color: var(--muted);">Blok kode yang mungkin error</p>
              </div>
              <div style="padding: 12px; background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05)); border-radius: 8px; border: 1px solid rgba(239, 68, 68, 0.3);">
                <strong style="color: var(--danger); font-size: 14px;">⚠️ CATCH</strong>
                <p style="margin: 4px 0 0 0; font-size: 11px; color: var(--muted);">Menangani error yang terjadi</p>
              </div>
              <div style="padding: 12px; background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05)); border-radius: 8px; border: 1px solid rgba(245, 158, 11, 0.3);">
                <strong style="color: var(--warn); font-size: 14px;">🔄 FINALLY</strong>
                <p style="margin: 4px 0 0 0; font-size: 11px; color: var(--muted);">Selalu dijalankan</p>
              </div>
            </div>
          </div>
        </div>

        <div class="hr"></div>

        <!-- Call to Action untuk Praktik -->
        <div class="cta-section" style="text-align: center; margin-top: 24px;">
          <h3 style="margin: 0 0 16px 0;">🧩 Saatnya Praktik! 🧮</h3>
          <p style="color: var(--muted); margin: 0 0 20px 0;">
            Setelah memahami konsep dasar, mari praktikkan langsung dengan kalkulator dan latihan struktur kontrol.
          </p>
        </div>
      </div>
    </section>
    <section id="tab-arit" class="grid" role="tabpanel" aria-selected="false" aria-labelledby="Aritmatika">
      <div class="card span6 calculator-card">
        <h2>🧮 Kalkulator Aritmatika</h2>
        <p class="muted">Mendukung Integer & Float. Hindari pembagian dengan nol.</p>
        <form class="calculator-form" onsubmit="return false;">
          <div class="row">
            <div class="field">
              <label for="numA">Angka A</label>
              <input id="numA" type="text" placeholder="misal: 5 atau 5.5" inputmode="decimal" autocomplete="off" />
            </div>
            <div class="field">
              <label for="op">Operasi</label>
              <select id="op">
                <option value="+">Penjumlahan (+)</option>
                <option value="-">Pengurangan (−)</option>
                <option value="*">Perkalian (×)</option>
                <option value="/">Pembagian (÷)</option>
              </select>
            </div>
            <div class="field">
              <label for="numB">Angka B</label>
              <input id="numB" type="text" placeholder="misal: 4 atau 0.25" inputmode="decimal" autocomplete="off" />
            </div>
          </div>
          <div class="row" style="margin-top: 16px;">
            <button id="btnCalc" class="btn-primary" type="button">
              <span class="btn-text">Hitung</span>
            </button>
            <button id="btnClear" class="btn-secondary" type="button">Bersihkan</button>
            <button id="btnHistory" class="btn-secondary" type="button">Riwayat</button>
          </div>
        </form>
        <div class="stack" style="margin-top: 16px;">
          <div id="equation" class="eq" aria-live="polite">Hasil akan tampil di sini…</div>
          <div id="history" class="eq console" style="display: none; max-height: 200px; overflow-y: auto;">
            <strong>Riwayat Perhitungan:</strong>
          </div>
          <small class="muted"> 
            Format: <span class="pill">a ⊗ b = hasil</span> 
            (contoh: <strong>5 × 4 = 20</strong>)
          </small>
        </div>
      </div>

      <div class="card span6 examples-card">
        <h2>✨ Contoh Otomatis</h2>
        <p class="muted">Klik untuk mengisi & menghitung cepat.</p>
        <div class="row">
          <button class="btn-success" data-demo="5 * 4" title="Perkalian sederhana">5 × 4</button>
          <button class="btn-success" data-demo="12 / 3" title="Pembagian sederhana">12 ÷ 3</button>
          <button class="btn-success" data-demo="7 + 2.5" title="Penjumlahan dengan desimal">7 + 2.5</button>
          <button class="btn-success" data-demo="9 - 13.2" title="Pengurangan dengan hasil negatif">9 − 13.2</button>
        </div>
        <div class="hr"></div>
        <div class="stack">
          <div class="muted">💡 Fitur validasi:</div>
          <ul class="muted" style="margin-top: -8px; font-size: 13px;">
            <li>✅ Input harus angka (integer atau desimal)</li>
            <li>❌ Pembagian dengan nol akan ditolak</li>
            <li>🔢 Hasil dibulatkan maksimal 10 digit signifikan</li>
            <li>📊 Riwayat perhitungan tersimpan</li>
            <li>⌨️ Keyboard shortcuts: Enter untuk hitung, Escape untuk bersihkan</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- TAB: Struktur Kontrol -->
    <section id="tab-ctrl" class="grid" role="tabpanel" aria-selected="false">
      <div class="card span6 control-card">
        <h2>🧩 Percabangan (if / else if / else)</h2>
        <p class="muted">Masukkan nilai ujian, lihat predikatnya dengan visualisasi.</p>
        <div class="row">
          <div class="field">
            <label for="nilai">Nilai (0–100)</label>
            <input id="nilai" type="text" placeholder="misal: 82.5" inputmode="decimal" autocomplete="off" 
                   min="0" max="100" />
          </div>
          <div class="field" style="align-self: end;">
            <button id="btnPredikat" class="btn-primary">Evaluasi Predikat</button>
          </div>
        </div>
        <div id="predikatOut" class="eq" style="margin-top: 16px;">Predikat: —</div>
        
        <!-- Grade visualization -->
        <div class="grade-scale" style="margin-top: 16px; padding: 16px; background: rgba(255,255,255,0.02); border-radius: 12px;">
          <div class="muted" style="margin-bottom: 12px;">📊 Skala Penilaian:</div>
          <div class="grade-bars">
            <div class="grade-bar" data-grade="A">
              <span class="grade-label">A (90-100)</span>
              <div class="grade-fill" style="width: 0%; background: linear-gradient(90deg, #22c55e, #16a34a);"></div>
            </div>
            <div class="grade-bar" data-grade="B">
              <span class="grade-label">B (75-89)</span>
              <div class="grade-fill" style="width: 0%; background: linear-gradient(90deg, #3b82f6, #2563eb);"></div>
            </div>
            <div class="grade-bar" data-grade="C">
              <span class="grade-label">C (60-74)</span>
              <div class="grade-fill" style="width: 0%; background: linear-gradient(90deg, #f59e0b, #d97706);"></div>
            </div>
            <div class="grade-bar" data-grade="D">
              <span class="grade-label">D (0-59)</span>
              <div class="grade-fill" style="width: 0%; background: linear-gradient(90deg, #ef4444, #dc2626);"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="card span6 loop-card">
        <h2>🔁 Perulangan (for, while)</h2>
        <p class="muted">Buat tabel perkalian (for) & validasi input positif (while).</p>
        <div class="row">
          <div class="field">
            <label for="angkaKali">Angka untuk tabel (for)</label>
            <input id="angkaKali" type="text" placeholder="misal: 7" inputmode="numeric" autocomplete="off" />
          </div>
          <div class="field" style="align-self: end;">
            <button id="btnTabel" class="btn-primary">Cetak Tabel × (1..10)</button>
          </div>
        </div>
        <div class="hr"></div>
        <div class="row">
          <div class="field">
            <label for="angkaPositif">Masukkan angka positif (while)</label>
            <input id="angkaPositif" type="text" placeholder="misal: 3" inputmode="decimal" autocomplete="off" />
          </div>
          <div class="field" style="align-self: end;">
            <button id="btnWhile" class="btn-secondary">Validasi Positif</button>
          </div>
        </div>
        <div class="row" style="margin-top: 12px;">
          <div class="field">
            <label for="countdown">Countdown Timer (while)</label>
            <input id="countdown" type="text" placeholder="misal: 5" inputmode="numeric" autocomplete="off" />
          </div>
          <div class="field" style="align-self: end;">
            <button id="btnCountdown" class="btn-secondary">Start Countdown</button>
          </div>
        </div>
        <div id="loopOut" class="eq console" style="margin-top: 16px;">Output perulangan akan tampil di sini…</div>
      </div>

      <div class="card span12 error-handling-card">
        <h2>🛡️ Penanganan Kesalahan (try / catch / finally)</h2>
        <p class="muted">Simulasi pembagian yang aman dari error input & pembagian nol dengan logging.</p>
        <div class="row">
          <div class="field">
            <label for="divA">Angka A</label>
            <input id="divA" type="text" placeholder="misal: 10" inputmode="decimal" autocomplete="off" />
          </div>
          <div class="field">
            <label for="divB">Angka B</label>
            <input id="divB" type="text" placeholder="misal: 0 → error" inputmode="decimal" autocomplete="off" />
          </div>
          <div class="field">
            <label for="errorType">Simulasi Error</label>
            <select id="errorType">
              <option value="normal">Normal Operation</option>
              <option value="divide-zero">Division by Zero</option>
              <option value="invalid-input">Invalid Input</option>
              <option value="network-error">Network Error (simulasi)</option>
            </select>
          </div>
          <div class="field" style="align-self: end;">
            <button id="btnDiv" class="btn-primary">Bagi Sekarang</button>
          </div>
        </div>
        <div class="stack" style="margin-top: 16px;">
          <div id="divOut" class="eq">Hasil pembagian akan tampil di sini…</div>
          <div id="errorLog" class="eq console" style="max-height: 150px; overflow-y: auto; font-size: 12px;">
            <strong>🔍 Error Log & Debugging Info:</strong>
          </div>
        </div>
      </div>
    </section>

    <footer>
        &copy; 2025 <strong>Hello World</strong>. All rights reserved.  
        Dibuat untuk demo edukasi.  
    </footer>
  </div>

  <script>
    // ========== Modern JavaScript Calculator & Control Structures ==========
    
    /**
     * Modern ES6+ Utility Functions
     */
    class Utils {
      static $ = (query, context = document) => context.querySelector(query);
      static $$ = (query, context = document) => Array.from(context.querySelectorAll(query));
      
      static parseNumber(text) {
        const sanitized = String(text).trim().replace(/,/g, ".");
        if (sanitized === "" || isNaN(sanitized)) {
          throw new Error("Input bukan angka yang valid");
        }
        return Number(sanitized);
      }
      
      static formatSmart(number) {
        if (!Number.isFinite(number)) return String(number);
        if (Number.isInteger(number)) return String(number);
        return Number(number.toPrecision(10)).toString();
      }
      
      static async delay(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }
      
      static debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }
      
      static log(message, type = 'info') {
        const timestamp = new Date().toLocaleTimeString();
        const prefix = {
          info: '📘',
          success: '✅',
          warning: '⚠️',
          error: '❌'
        }[type] || '📘';
        
        console.log(`${prefix} [${timestamp}] ${message}`);
        return `[${timestamp}] ${message}`;
      }
    }

    /**
     * Enhanced Calculator Class with History and Advanced Operations
     */
    class ModernCalculator {
      constructor() {
        this.history = [];
        this.elements = {
          numA: Utils.$('#numA'),
          numB: Utils.$('#numB'),
          op: Utils.$('#op'),
          equation: Utils.$('#equation'),
          history: Utils.$('#history'),
          btnCalc: Utils.$('#btnCalc'),
          btnClear: Utils.$('#btnClear'),
          btnHistory: Utils.$('#btnHistory')
        };
        
        this.operations = {
          '+': (a, b) => a + b,
          '-': (a, b) => a - b,
          '*': (a, b) => a * b,
          '/': (a, b) => {
            if (b === 0) throw new Error("Pembagian dengan nol tidak diperbolehkan");
            return a / b;
          },
          '**': (a, b) => Math.pow(a, b),
          '%': (a, b) => {
            if (b === 0) throw new Error("Modulo dengan nol tidak diperbolehkan");
            return a % b;
          }
        };
        
        this.operatorSymbols = {
          '+': '+',
          '-': '−',
          '*': '×',
          '/': '÷',
          '**': '^',
          '%': '%'
        };
        
        this.init();
      }
      
      init() {
        this.bindEvents();
        this.loadHistory();
      }
      
      bindEvents() {
        this.elements.btnCalc.addEventListener('click', () => this.calculate());
        this.elements.btnClear.addEventListener('click', () => this.clear());
        this.elements.btnHistory.addEventListener('click', () => this.toggleHistory());
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' && this.isCalculatorFocused()) {
            e.preventDefault();
            this.calculate();
          } else if (e.key === 'Escape') {
            this.clear();
          }
        });
        
        // Real-time validation
        [this.elements.numA, this.elements.numB].forEach(input => {
          input.addEventListener('input', Utils.debounce(() => this.validateInput(input), 300));
        });
      }
      
      isCalculatorFocused() {
        const activeElement = document.activeElement;
        return [this.elements.numA, this.elements.numB, this.elements.op].includes(activeElement);
      }
      
      validateInput(input) {
        try {
          if (input.value.trim() !== '') {
            Utils.parseNumber(input.value);
            input.style.borderColor = 'rgba(34, 197, 94, 0.4)';
          } else {
            input.style.borderColor = '';
          }
        } catch (error) {
          input.style.borderColor = 'rgba(239, 68, 68, 0.4)';
        }
      }
      
      async calculate() {
        this.setLoading(true);
        
        try {
          // Tampilkan proses perhitungan
          const a = Utils.parseNumber(this.elements.numA.value);
          const b = Utils.parseNumber(this.elements.numB.value);
          const operator = this.elements.op.value;
          
          // Tampilkan kode dan proses secara bersamaan
          this.displayResult('🔄 Memproses perhitungan...', 'warning');
          await Utils.delay(300);
          
          const codeBlock = `// Kode JavaScript untuk operasi aritmatika:
function calculate(a, b, operator) {
    let result;
    switch(operator) {
        case '+': result = a + b; break;
        case '-': result = a - b; break;
        case '*': result = a * b; break;
        case '/': 
            if (b === 0) throw new Error("Division by zero");
            result = a / b; 
            break;
    }
    return result;
}

// Eksekusi:
const a = ${Utils.formatSmart(a)};
const b = ${Utils.formatSmart(b)};
const operator = '${operator}';
const result = calculate(a, b, operator);`;
          
          this.displayResult(`📝 KODE PROGRAM:\n${codeBlock}`, 'warning');
          await Utils.delay(800);
          
          const result = this.operations[operator](a, b);
          const expression = `${Utils.formatSmart(a)} ${this.operatorSymbols[operator]} ${Utils.formatSmart(b)} = ${Utils.formatSmart(result)}`;
          
          const finalOutput = `📝 KODE PROGRAM:\n${codeBlock}\n\n✅ HASIL EKSEKUSI:\n${expression}`;
          
          this.displayResult(finalOutput, 'success');
          this.addToHistory(expression);
          
          Utils.log(`Calculation: ${expression}`, 'success');
          
        } catch (error) {
          this.displayResult(`❌ Error: ${error.message}`, 'error');
          Utils.log(`Calculation error: ${error.message}`, 'error');
        } finally {
          this.setLoading(false);
        }
      }
      
      displayResult(text, type = 'normal') {
        this.elements.equation.textContent = text;
        this.elements.equation.className = `eq ${type}`;
        
        // Animate result
        this.elements.equation.style.transform = 'scale(0.95)';
        setTimeout(() => {
          this.elements.equation.style.transform = 'scale(1)';
        }, 100);
      }
      
      setLoading(isLoading) {
        this.elements.btnCalc.classList.toggle('loading', isLoading);
        this.elements.btnCalc.disabled = isLoading;
      }
      
      clear() {
        this.elements.numA.value = '';
        this.elements.numB.value = '';
        this.elements.numA.style.borderColor = '';
        this.elements.numB.style.borderColor = '';
        this.displayResult('Hasil akan tampil di sini…');
        this.elements.numA.focus();
      }
      
      addToHistory(expression) {
        this.history.unshift({
          expression,
          timestamp: new Date().toLocaleString()
        });
        
        // Limit history to 10 items
        if (this.history.length > 10) {
          this.history = this.history.slice(0, 10);
        }
        
        this.saveHistory();
        this.updateHistoryDisplay();
      }
      
      toggleHistory() {
        const historyEl = this.elements.history;
        if (historyEl.style.display === 'none') {
          historyEl.style.display = 'block';
          this.updateHistoryDisplay();
          this.elements.btnHistory.textContent = 'Sembunyikan Riwayat';
        } else {
          historyEl.style.display = 'none';
          this.elements.btnHistory.textContent = 'Riwayat';
        }
      }
      
      updateHistoryDisplay() {
        if (this.history.length === 0) {
          this.elements.history.innerHTML = '<strong>Riwayat Perhitungan:</strong>\nBelum ada perhitungan.';
          return;
        }
        
        const historyHtml = this.history
          .map(item => `${item.timestamp}: ${item.expression}`)
          .join('\n');
        
        this.elements.history.innerHTML = `<strong>Riwayat Perhitungan:</strong>\n${historyHtml}`;
      }
      
      saveHistory() {
        try {
          localStorage.setItem('calculatorHistory', JSON.stringify(this.history));
        } catch (error) {
          console.warn('Could not save history to localStorage:', error);
        }
      }
      
      loadHistory() {
        try {
          const saved = localStorage.getItem('calculatorHistory');
          if (saved) {
            this.history = JSON.parse(saved);
          }
        } catch (error) {
          console.warn('Could not load history from localStorage:', error);
          this.history = [];
        }
      }
    }

    /**
     * Enhanced Control Structures with Visualization
     */
    class ControlStructures {
      constructor() {
        this.elements = {
          nilai: Utils.$('#nilai'),
          btnPredikat: Utils.$('#btnPredikat'),
          predikatOut: Utils.$('#predikatOut'),
          angkaKali: Utils.$('#angkaKali'),
          btnTabel: Utils.$('#btnTabel'),
          angkaPositif: Utils.$('#angkaPositif'),
          btnWhile: Utils.$('#btnWhile'),
          countdown: Utils.$('#countdown'),
          btnCountdown: Utils.$('#btnCountdown'),
          loopOut: Utils.$('#loopOut'),
          divA: Utils.$('#divA'),
          divB: Utils.$('#divB'),
          errorType: Utils.$('#errorType'),
          btnDiv: Utils.$('#btnDiv'),
          divOut: Utils.$('#divOut'),
          errorLog: Utils.$('#errorLog')
        };
        
        this.countdownInterval = null;
        this.init();
      }
      
      init() {
        this.bindEvents();
        this.initErrorLog();
      }
      
      bindEvents() {
        this.elements.btnPredikat.addEventListener('click', () => this.evaluateGrade());
        this.elements.btnTabel.addEventListener('click', () => this.generateMultiplicationTable());
        this.elements.btnWhile.addEventListener('click', () => this.validatePositive());
        this.elements.btnCountdown.addEventListener('click', () => this.startCountdown());
        this.elements.btnDiv.addEventListener('click', () => this.safeDivision());
      }
      
      async evaluateGrade() {
        try {
          const score = Utils.parseNumber(this.elements.nilai.value);
          
          if (score < 0 || score > 100) {
            throw new Error("Nilai harus antara 0-100");
          }
          
          // Tampilkan kode dan proses evaluasi
          this.elements.predikatOut.textContent = '🔄 Memproses evaluasi nilai...';
          this.elements.predikatOut.className = 'eq warning';
          await Utils.delay(300);
          
          const codeBlock = `// Kode JavaScript untuk struktur if-else:
function evaluateGrade(score) {
    let grade, description;
    
    if (score >= 90) {
        grade = "A";
        description = "Sangat Baik";
    } else if (score >= 75) {
        grade = "B"; 
        description = "Baik";
    } else if (score >= 60) {
        grade = "C";
        description = "Cukup";
    } else {
        grade = "D";
        description = "Kurang";
    }
    
    return { grade, description };
}

// Eksekusi:
const score = ${Utils.formatSmart(score)};
const result = evaluateGrade(score);`;
          
          this.elements.predikatOut.textContent = `📝 KODE IF-ELSE:\n${codeBlock}`;
          this.elements.predikatOut.className = 'eq warning';
          await Utils.delay(800);
          
          let grade, gradeClass, description, process;
          
          if (score >= 90) {
            grade = "A";
            gradeClass = "success";
            description = "Sangat Baik";
            process = `if (${score} >= 90) → TRUE`;
          } else if (score >= 75) {
            grade = "B";
            gradeClass = "success";
            description = "Baik";
            process = `if (${score} >= 90) → FALSE, else if (${score} >= 75) → TRUE`;
          } else if (score >= 60) {
            grade = "C";
            gradeClass = "warning";
            description = "Cukup";
            process = `if (${score} >= 90) → FALSE, else if (${score} >= 75) → FALSE, else if (${score} >= 60) → TRUE`;
          } else {
            grade = "D";
            gradeClass = "error";
            description = "Kurang";
            process = `Semua kondisi FALSE, masuk ke else`;
          }
          
          const finalOutput = `� KODE IF-ELSE:\n${codeBlock}\n\n🔍 JALUR EKSEKUSI: ${process}\n\n✅ HASIL: Predikat ${grade} (${description}) - Nilai: ${Utils.formatSmart(score)}`;
          
          this.elements.predikatOut.textContent = finalOutput;
          this.elements.predikatOut.className = `eq ${gradeClass}`;
          
          // Animate grade visualization
          this.animateGradeBars(grade, score);
          
        } catch (error) {
          this.elements.predikatOut.textContent = `❌ Error: ${error.message}`;
          this.elements.predikatOut.className = 'eq error';
        }
      }
      
      animateGradeBars(targetGrade, score) {
        const gradeBars = Utils.$$('.grade-bar');
        
        // Reset all bars
        gradeBars.forEach(bar => {
          bar.classList.remove('active');
          const fill = bar.querySelector('.grade-fill');
          fill.style.width = '0%';
        });
        
        // Animate target grade
        setTimeout(() => {
          const targetBar = Utils.$(`.grade-bar[data-grade="${targetGrade}"]`);
          if (targetBar) {
            targetBar.classList.add('active');
            const fill = targetBar.querySelector('.grade-fill');
            
            // Calculate width based on score within grade range
            let width = 100;
            if (targetGrade === 'A') width = Math.min(100, (score - 90) / 10 * 100);
            else if (targetGrade === 'B') width = Math.min(100, (score - 75) / 14 * 100);
            else if (targetGrade === 'C') width = Math.min(100, (score - 60) / 14 * 100);
            else if (targetGrade === 'D') width = Math.min(100, score / 59 * 100);
            
            fill.style.width = `${Math.max(20, width)}%`;
          }
        }, 200);
      }
      
      async generateMultiplicationTable() {
        try {
          const base = Utils.parseNumber(this.elements.angkaKali.value);
          
          // Tampilkan proses inisialisasi
          this.elements.loopOut.textContent = '� Memulai pembuatan tabel perkalian...';
          this.elements.loopOut.className = 'eq console warning';
          await Utils.delay(400);
          
          this.elements.loopOut.textContent = `📊 Input: base = ${Utils.formatSmart(base)}\n⚙️ Proses: for (let i = 1; i <= 10; i++)`;
          this.elements.loopOut.className = 'eq console warning';
          await Utils.delay(500);
          
          const output = [`🔢 Tabel Perkalian ${Utils.formatSmart(base)}:`, ''];
          
          // Tampilkan kode terlebih dahulu
          const codeBlock = `// Kode JavaScript untuk FOR LOOP:
function generateMultiplicationTable(base) {
    const results = [];
    
    for (let i = 1; i <= 10; i++) {
        const result = base * i;
        results.push(\`\${base} × \${i} = \${result}\`);
    }
    
    return results;
}

// Eksekusi:
const base = ${Utils.formatSmart(base)};
const table = generateMultiplicationTable(base);`;
          
          this.elements.loopOut.textContent = `📝 KODE FOR LOOP:\n${codeBlock}`;
          this.elements.loopOut.className = 'eq console warning';
          await Utils.delay(800);
          
          for (let i = 1; i <= 10; i++) {
            const result = base * i;
            output.push(`${Utils.formatSmart(base)} × ${i.toString().padStart(2)} = ${Utils.formatSmart(result).padStart(6)}`);
          }
          
          const finalOutput = `📝 KODE FOR LOOP:\n${codeBlock}\n\n✅ HASIL EKSEKUSI:\n${output.join('\n')}`;
          
          this.elements.loopOut.textContent = finalOutput;
          this.elements.loopOut.className = 'eq console success';
          
        } catch (error) {
          this.elements.loopOut.textContent = `❌ Error: ${error.message}`;
          this.elements.loopOut.className = 'eq console error';
        }
      }
      
      async validatePositive() {
        try {
          const number = Utils.parseNumber(this.elements.angkaPositif.value);
          
          // Tampilkan kode dan proses while loop
          this.elements.loopOut.textContent = '🔄 Memproses validasi while loop...';
          this.elements.loopOut.className = 'eq console warning';
          await Utils.delay(400);
          
          const codeBlock = `// Kode JavaScript untuk WHILE LOOP:
function validatePositive(number) {
    let attempts = 1;
    let currentNumber = number;
    const log = [];
    
    while (currentNumber <= 0 && attempts <= 3) {
        log.push(\`❌ Percobaan \${attempts}: \${currentNumber} ≤ 0 (tidak valid)\`);
        currentNumber = Math.abs(currentNumber) + Math.random() * 10;
        attempts++;
    }
    
    if (currentNumber > 0) {
        log.push(\`✅ Valid: \${currentNumber} > 0\`);
        return { success: true, result: currentNumber, log };
    } else {
        log.push('❌ Batas maksimal percobaan tercapai');
        return { success: false, result: currentNumber, log };
    }
}

// Eksekusi:
const number = ${Utils.formatSmart(number)};
const validation = validatePositive(number);`;
          
          this.elements.loopOut.textContent = `📝 KODE WHILE LOOP:\n${codeBlock}`;
          this.elements.loopOut.className = 'eq console warning';
          await Utils.delay(800);
          
          let attempts = 1;
          let currentNumber = number;
          const output = ['🔍 Proses Validasi While Loop:', ''];
          
          // Simulate while loop validation
          while (currentNumber <= 0 && attempts <= 3) {
            output.push(`❌ Percobaan ${attempts}: ${Utils.formatSmart(currentNumber)} ≤ 0 (tidak valid)`);
            currentNumber = Math.abs(currentNumber) + Math.random() * 10;
            attempts++;
          }
          
          // Tampilkan hasil akhir
          if (currentNumber > 0) {
            output.push(`✅ Keluar dari loop! Angka ${Utils.formatSmart(currentNumber)} valid (positif)!`);
            output.push(`📊 Total iterasi: ${attempts - 1}`);
          } else {
            output.push('❌ Batas maksimal percobaan tercapai');
          }
          
          const finalOutput = `📝 KODE WHILE LOOP:\n${codeBlock}\n\n✅ HASIL EKSEKUSI:\n${output.join('\n')}`;
          
          this.elements.loopOut.textContent = finalOutput;
          this.elements.loopOut.className = currentNumber > 0 ? 'eq console success' : 'eq console warning';
          
        } catch (error) {
          this.elements.loopOut.textContent = `❌ Error: ${error.message}`;
          this.elements.loopOut.className = 'eq console error';
        }
      }
      
      async startCountdown() {
        try {
          if (this.countdownInterval) {
            clearInterval(this.countdownInterval);
            this.countdownInterval = null;
            this.elements.btnCountdown.textContent = 'Start Countdown';
            return;
          }
          
          let count = Math.floor(Utils.parseNumber(this.elements.countdown.value));
          if (count <= 0) throw new Error("Countdown harus > 0");
          
          // Tampilkan kode while loop untuk countdown
          const codeBlock = `// Kode JavaScript untuk COUNTDOWN WHILE LOOP:
function startCountdown(initialCount) {
    let count = initialCount;
    const log = [];
    
    while (count >= 0) {
        log.push(\`⏳ Countdown: \${count}\`);
        count--;
        
        if (count < 0) {
            log.push('🎉 Countdown selesai!');
            break;
        }
    }
    
    return log;
}

// Eksekusi:
const initialCount = ${count};
const countdownLog = startCountdown(initialCount);`;
          
          this.elements.loopOut.textContent = `� KODE COUNTDOWN WHILE LOOP:\n${codeBlock}\n\n🔄 Memulai countdown...`;
          this.elements.loopOut.className = 'eq console warning';
          await Utils.delay(1000);
          
          this.elements.btnCountdown.textContent = 'Stop Countdown';
          
          const output = ['⏱️ Countdown Timer (While Loop):', '📊 Proses eksekusi:'];
          let currentCount = count;
          
          this.countdownInterval = setInterval(() => {
            const currentOutput = [...output];
            currentOutput.push(`⏳ count = ${currentCount} (while ${currentCount} >= 0 → TRUE)`);
            currentOutput.push(`   Tampilkan: ${currentCount}...`);
            currentOutput.push(`   Eksekusi: count-- (${currentCount} → ${currentCount - 1})`);
            
            const displayOutput = `📝 KODE COUNTDOWN WHILE LOOP:\n${codeBlock}\n\n✅ HASIL EKSEKUSI:\n${currentOutput.join('\n')}`;
            this.elements.loopOut.textContent = displayOutput;
            this.elements.loopOut.className = 'eq console countdown-display counting';
            
            currentCount--;
            
            if (currentCount < 0) {
              clearInterval(this.countdownInterval);
              this.countdownInterval = null;
              const finalOutput = [...output];
              finalOutput.push(`🔄 count = ${currentCount} (while ${currentCount} >= 0 → FALSE)`);
              finalOutput.push('🚪 Keluar dari loop');
              finalOutput.push('🎉 Countdown selesai!');
              
              const finalDisplay = `📝 KODE COUNTDOWN WHILE LOOP:\n${codeBlock}\n\n✅ HASIL EKSEKUSI:\n${finalOutput.join('\n')}`;
              this.elements.loopOut.textContent = finalDisplay;
              this.elements.loopOut.className = 'eq console success';
              this.elements.btnCountdown.textContent = 'Start Countdown';
            }
          }, 1200);
          
        } catch (error) {
          this.elements.loopOut.textContent = `❌ Error: ${error.message}`;
          this.elements.loopOut.className = 'eq console error';
        }
      }
      
      async safeDivision() {
        const timestamp = new Date().toLocaleTimeString();
        let logEntry = `[${timestamp}] `;
        
        // Tampilkan kode try-catch-finally
        this.elements.divOut.textContent = '🔄 Memproses try-catch-finally...';
        this.elements.divOut.className = 'eq warning';
        await Utils.delay(400);
        
        const errorType = this.elements.errorType.value;
        let a, b;
        
        if (errorType === 'invalid-input') {
          a = 'invalid';
          b = 'data';
        } else {
          a = Utils.parseNumber(this.elements.divA.value);
          b = errorType === 'divide-zero' ? 0 : Utils.parseNumber(this.elements.divB.value);
        }
        
        const codeBlock = `// Kode JavaScript untuk TRY-CATCH-FINALLY:
function safeDivision(a, b, errorType) {
    const log = [];
    
    try {
        log.push('🔍 TRY: Starting safe division...');
        
        if (errorType === 'network-error') {
            throw new Error('Network connection failed');
        }
        
        if (typeof a !== 'number') throw new Error('Input A tidak valid');
        if (typeof b !== 'number') throw new Error('Input B tidak valid');
        if (b === 0) throw new Error('Tidak bisa membagi dengan nol');
        
        const result = a / b;
        log.push(\`✅ TRY: Sukses! \${a} ÷ \${b} = \${result}\`);
        return { success: true, result, log };
        
    } catch (error) {
        log.push(\`🚨 CATCH: Error tertangkap - \${error.message}\`);
        return { success: false, error: error.message, log };
        
    } finally {
        log.push('🔄 FINALLY: Membersihkan resource...');
    }
}

// Eksekusi:
const a = ${typeof a === 'string' ? `"${a}"` : a};
const b = ${typeof b === 'string' ? `"${b}"` : b};
const errorType = "${errorType}";
const result = safeDivision(a, b, errorType);`;
        
        this.elements.divOut.textContent = `� KODE TRY-CATCH-FINALLY:\n${codeBlock}`;
        this.elements.divOut.className = 'eq warning';
        await Utils.delay(800);
        
        try {
          this.addToErrorLog(`${logEntry}🔍 TRY: Starting safe division operation...`);
          
          if (errorType === 'network-error') {
            await Utils.delay(500);
            throw new Error("Network connection failed (simulasi)");
          }
          
          this.addToErrorLog(`${logEntry}📊 TRY: Input validation: a=${a}, b=${b}`);
          
          if (typeof a !== 'number') throw new Error("Input A tidak valid");
          if (typeof b !== 'number') throw new Error("Input B tidak valid");
          if (b === 0) throw new Error("Tidak bisa membagi dengan nol");
          
          const result = a / b;
          
          const successOutput = `📝 KODE TRY-CATCH-FINALLY:\n${codeBlock}\n\n✅ HASIL EKSEKUSI:\n🔍 TRY: Starting safe division...\n📊 TRY: Input validation passed\n⚙️ TRY: Melakukan pembagian ${a} ÷ ${b}\n✅ TRY: Sukses! ${Utils.formatSmart(a)} ÷ ${Utils.formatSmart(b)} = ${Utils.formatSmart(result)}\n🔄 FINALLY: Membersihkan resource...`;
          
          this.elements.divOut.textContent = successOutput;
          this.elements.divOut.className = 'eq success';
          
          this.addToErrorLog(`${logEntry}✅ TRY: Division successful: ${Utils.formatSmart(result)}`);
          
        } catch (error) {
          const errorOutput = `📝 KODE TRY-CATCH-FINALLY:\n${codeBlock}\n\n❌ HASIL EKSEKUSI:\n🔍 TRY: Starting safe division...\n📊 TRY: Input validation: a=${a}, b=${b}\n🚨 CATCH: Error tertangkap - ${error.message}\n🔄 FINALLY: Membersihkan resource...`;
          
          this.elements.divOut.textContent = errorOutput;
          this.elements.divOut.className = 'eq error';
          
          this.addToErrorLog(`${logEntry}❌ CATCH: Error caught: ${error.message}`);
          
        } finally {
          this.addToErrorLog(`${logEntry}🔄 FINALLY: Operation completed, resources cleaned up`);
        }
      }
      
      initErrorLog() {
        this.elements.errorLog.innerHTML = '<strong>🔍 Error Log & Debugging Info:</strong>\nLogs will appear here...';
      }
      
      addToErrorLog(message) {
        const current = this.elements.errorLog.textContent;
        const lines = current.split('\n');
        
        // Keep only header + last 10 log entries
        if (lines.length > 12) {
          lines.splice(2, lines.length - 12);
        }
        
        lines.push(message);
        this.elements.errorLog.textContent = lines.join('\n');
        
        // Auto-scroll to bottom
        this.elements.errorLog.scrollTop = this.elements.errorLog.scrollHeight;
      }
    }

    /**
     * Enhanced Tab Management
     */
    class TabManager {
      constructor() {
        this.tabs = Utils.$$('.tab-btn');
        this.panels = Utils.$$('[role="tabpanel"]');
        this.init();
      }
      
      init() {
        this.tabs.forEach(tab => {
          tab.addEventListener('click', (e) => this.switchTab(e.target));
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
          if (e.ctrlKey && e.key >= '1' && e.key <= '3') {
            e.preventDefault();
            const tabIndex = parseInt(e.key) - 1;
            if (this.tabs[tabIndex]) {
              this.switchTab(this.tabs[tabIndex]);
            }
          }
        });
      }
      
      switchTab(targetTab) {
        const targetKey = targetTab.dataset.tab;
        
        // Update tab states
        this.tabs.forEach(tab => tab.setAttribute('aria-selected', 'false'));
        targetTab.setAttribute('aria-selected', 'true');
        
        // Update panel visibility with animation
        this.panels.forEach(panel => {
          const panelKey = panel.id.replace('tab-', '');
          if (panelKey === targetKey) {
            panel.setAttribute('aria-selected', 'true');
            panel.style.animation = 'fadeInUp 0.4s ease-out';
          } else {
            panel.setAttribute('aria-selected', 'false');
          }
        });
        
        Utils.log(`Switched to tab: ${targetKey}`, 'info');
      }
      
      // Public method untuk switching dari luar
      switchToTab(tabKey) {
        const targetTab = Utils.$(`[data-tab="${tabKey}"]`);
        if (targetTab) {
          this.switchTab(targetTab);
        }
      }
    }

    /**
     * Demo Button Handler
     */
    class DemoHandler {
      constructor(calculator) {
        this.calculator = calculator;
        this.init();
      }
      
      init() {
        Utils.$$('[data-demo]').forEach(btn => {
          btn.addEventListener('click', (e) => this.runDemo(e.target));
        });
      }
      
      async runDemo(button) {
        const expression = button.dataset.demo;
        const [a, operator, b] = expression.split(' ');
        
        // Animate demo execution
        button.style.transform = 'scale(0.95)';
        setTimeout(() => button.style.transform = 'scale(1)', 150);
        
        // Fill form and calculate
        this.calculator.elements.numA.value = a;
        this.calculator.elements.op.value = operator;
        this.calculator.elements.numB.value = b;
        
        await Utils.delay(200);
        this.calculator.calculate();
        
        Utils.log(`Demo executed: ${expression}`, 'success');
      }
    }

    /**
     * Initialize Application
     */
    document.addEventListener('DOMContentLoaded', () => {
      Utils.log('🚀 Initializing Modern Calculator App...', 'info');
      
      const tabManager = new TabManager();
      const calculator = new ModernCalculator();
      const controlStructures = new ControlStructures();
      const demoHandler = new DemoHandler(calculator);
      
      // Make tabManager globally accessible for CTA buttons
      window.tabManager = tabManager;
      
      // Global keyboard shortcuts info
      console.log(`
        🎯 Keyboard Shortcuts:
        • Enter: Calculate (when calculator focused)
        • Escape: Clear calculator
        • Ctrl+1: Switch to Introduction tab
        • Ctrl+2: Switch to Calculator tab
        • Ctrl+3: Switch to Control Structures tab
      `);
      
      Utils.log('✅ Application initialized successfully!', 'success');
    });

    /**
     * Global helper function for CTA buttons
     */
    function switchToTab(tabKey) {
      if (window.tabManager) {
        window.tabManager.switchToTab(tabKey);
      }
    }
  </script>
</body>
</html>
